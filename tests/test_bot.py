import asyncio
from aiogram import Bot, Dispatcher
from utils.config import TELEGRAM_TOKEN, ADMIN_ID
import logging

async def main():
    # –í–∫–ª—é—á–∞–µ–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    logging.basicConfig(level=logging.INFO)
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–æ—Ç–∞
    bot = Bot(token=TELEGRAM_TOKEN)
    dp = Dispatcher()
    
    try:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–æ—Ç–∞
        me = await bot.get_me()
        print(f"Bot info: @{me.username}")
        
        # –ü—Ä–æ–±—É–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É
        await bot.send_message(
            chat_id=ADMIN_ID, 
            text="üîÑ Bot test message"
        )
        print("Test message sent successfully")
        
    except Exception as e:
        print(f"Error: {e}")
    finally:
        await bot.session.close()

if __name__ == "__main__":
    asyncio.run(main())
